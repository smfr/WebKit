
Test that a 'disconnect' event is dispatched when a MediaDeviceRoute deactivates.

EXPECTED (video.remote.state == 'disconnected') OK
RUN(video.src = findMediaFile('video', '../content/test'))
EVENT(canplaythrough)
RUN(video.play())
EVENT(playing)
RUN(internals.mockMediaDeviceRouteController.activateRoute(route))
EVENT(connect)
EXPECTED (video.remote.state == 'connected') OK
RUN(internals.mockMediaDeviceRouteController.deactivateRoute(route))
EVENT(disconnect)
EXPECTED (video.remote.state == 'disconnected') OK
END OF TEST

